# 백준 11967번 - 불켜기

[문제 보러 가기](https://www.acmicpc.net/problem/11967)

## 요약
N x N 크기의 방이 있는 헛간, 각 방은 (1, 1)부터 (N, N)까지 번호가 매겨져 있다.
암소 베시는 불을 키고 싶다.
(1, 1)은 유일하게 불이 켜져 있으며, 어떤 방에는 다른 방의 불을
끄고 켤 수 있는 스위치가 있다.
베시는 불이 켜져있는 방으로만 들어갈 수 있고, 상하좌우로만 이동 가능
불을 켤 수 있는 방의 최대 개수를 구하시오.

## 핵심 규칙
- N과 M이 주어짐
- M개의 줄에는 네 개의 정수 x,y,a,b가 주어짐
- (x, y)방에서 (a, b)의 방 불을 켜고 끌 수 있다는 의미.
- 방에 여러개의 스위치 있을 수 있음.
- 한 방의 불을 조절하는 스위치도 여러개 가능
- 불을 켤 수 있는 방의 최대 개수를 출력

## 예제 입출력

입력 및 출력 예시는 [문제 링크](https://www.acmicpc.net/problem/11967) 참고.

### 풀이
1. 로직 생각
```
[1, 1] [1, 2] [1, 3]
[2, 1] [2, 2] [2, 3]
[3, 1] [3, 1] [3, 3]
```
1, 1에서 1, 2 스위치
2, 1에서 2, 2 스위치
1, 1에서 1, 3 스위치
2, 3에서 3, 1 스위치
1, 3에서 1, 2 스위치
1, 3에서 2, 1 스위치

- 1, 1에서 1,2 1,3 불킴
- 1, 3에서 2,1 불킴
- 2, 1에서 2,2 불킴
총 5개 -> 1,1 / 1,2 / 1,3 / 2,1 / 2,2

이동가능한 방 -> visited를 True로 설정
불이 켜진 방 -> light를 True로 설정
이동가능한 방에 있는 스위치를 전부 킴

2. 반례
4 10
1 1 1 2
1 2 1 3
1 2 4 1
1 3 1 4
1 3 3 1
1 4 2 4
1 4 2 1
2 1 4 4
3 1 4 3
4 1 3 4

1,1 -> 1,2
1,2 -> 1,3 / 4,1
1,3 -> 1,4 / 3,1
1,4 -> 2,4 / 2,1
2,1 -> 4,4
3,1 -> 4,3
4,1 -> 3,4

4 10
1 1 1 2
1 2 4 1
1 2 1 3
1 3 3 1
1 3 1 4
1 4 2 4
1 4 2 1
2 1 4 4
3 1 4 3
4 1 3 4

3. 시간초과
처음에 딕셔너리를 사용해서 스위치를 넣으려고 했는데, 하나의 값에 여러개의 스위치를 넣어야 해서
새로 list를 생성했었음

- defaultdict(list)로 기본값을 빈 리스트로 설정하고, switch_dict[(x-1, y-1)].append((a-1, b-1))코드를 활용
- 여러개의 스위치를 리스트로 설정
- queue에 x,y를 꺼낸 후, switch_dict[(x, y)]가 있다면, switch_dict[(x,y)]의 c,d에 대해서 불을 키고
- 불을킨 방 근처에 불 켜진 방이 있으면, queue에 추가
- 없으면 불을 키고 방을 세기만 함